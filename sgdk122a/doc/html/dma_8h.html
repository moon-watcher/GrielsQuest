<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>sgdk: dma.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sgdk</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('dma_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dma.h File Reference</div>  </div>
</div>
<div class="contents">

<p>DMA support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="types_8h_source.html">types.h</a>&quot;</code><br/>
</div>
<p><a href="dma_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_m_a_op_info.html">DMAOpInfo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA transfer definition (used for DMA queue)  <a href="struct_d_m_a_op_info.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1dffac5fd5848b73687d1118dadda5f9"></a><!-- doxytag: member="dma.h::_DMA_H_" ref="a1dffac5fd5848b73687d1118dadda5f9" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DMA_H_</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80fa205e121ddbeea81d7768480ed755"></a><!-- doxytag: member="dma.h::DMA_VRAM" ref="a80fa205e121ddbeea81d7768480ed755" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a80fa205e121ddbeea81d7768480ed755">DMA_VRAM</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">VRAM destination for DMA operation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc5fa52d71527db5145b456d50e72932"></a><!-- doxytag: member="dma.h::DMA_CRAM" ref="acc5fa52d71527db5145b456d50e72932" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#acc5fa52d71527db5145b456d50e72932">DMA_CRAM</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">CRAM destination for DMA operation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3bbb0cd77f08b981e4b1bf80db0ab6ad"></a><!-- doxytag: member="dma.h::DMA_VSRAM" ref="a3bbb0cd77f08b981e4b1bf80db0ab6ad" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a3bbb0cd77f08b981e4b1bf80db0ab6ad">DMA_VSRAM</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">VSRAM destination for DMA operation. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a25c0954a83a34c1065df3466899ef9ac">DMA_init</a> (<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> size, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> capacity)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the DMA queue sub system.  <a href="#a25c0954a83a34c1065df3466899ef9ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a3f78a14fab51ee0d5a5f3236cfa49246">DMA_getAutoFlush</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE if the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method is automatically called at VBlank to process DMA operations pending in the queue.  <a href="#a3f78a14fab51ee0d5a5f3236cfa49246"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a92a0da2f364b39a3ec31c85968c2f759">DMA_setAutoFlush</a> (<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to TRUE (default) then the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method is automatically called at VBlank to process DMA operations pending in the queue otherwise you have to call the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method by yourself.  <a href="#a92a0da2f364b39a3ec31c85968c2f759"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a520b961ff7fdd6d4c0dfc04902a09950">DMA_getIgnoreOverCapacity</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the "over capacity ignore" state (see <a class="el" href="dma_8h.html#a5ef5f54b40b2ca4578f1566eceea7cb7" title="Set the &quot;over capacity&quot; DMA queue strategy.">DMA_setIgnoreOverCapacity</a>(..) method).  <a href="#a520b961ff7fdd6d4c0dfc04902a09950"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a5ef5f54b40b2ca4578f1566eceea7cb7">DMA_setIgnoreOverCapacity</a> (<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the "over capacity" DMA queue strategy.  <a href="#a5ef5f54b40b2ca4578f1566eceea7cb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a4d5fb94e081a4df39ba948a03febda67">DMA_getMaxTransferSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum allowed size (in bytes) to transfer per <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> call.  <a href="#a4d5fb94e081a4df39ba948a03febda67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a11abe59cc3fafad34a89abc7187e5e42">DMA_setMaxTransferSize</a> (<a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a> value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum amount of data (in bytes) to transfer per <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> call.<br/>
 VBlank period allows to transfer up to 7.2 KB on NTSC system and 15 KB on PAL system.<br/>
 By default there is no size limit (0).  <a href="#a11abe59cc3fafad34a89abc7187e5e42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a6f0144fc374e2ad40942aa1611f05fe3">DMA_clearQueue</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the DMA queue, any queued operation is lost.<br/>
  <a href="#a6f0144fc374e2ad40942aa1611f05fe3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f">DMA_flushQueue</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the content of the DMA queue to the VDP:<br/>
 Each pending DMA operation is sent to the VDP and processed as quickly as possible.<br/>
 This method returns when all DMA operations present in the queue has been transfered.<br/>
 Note that this method is automatically called at VBlank time and you shouldn't call yourself except if you want to process it before vblank (if you manually extend blank period with h-int for instance) in which case you can disable the auto flush feature (see DMA_setAutoFlush(...))  <a href="#a17d3b25af3c1ce3dfe3457524f48069f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2415fb8d52144a7c6d2b55fafd8977dc"></a><!-- doxytag: member="dma.h::DMA_getQueueSize" ref="a2415fb8d52144a7c6d2b55fafd8977dc" args="()" -->
<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a2415fb8d52144a7c6d2b55fafd8977dc">DMA_getQueueSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of transfer currently pending in the DMA queue. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a977fef48a0db1b8cedd70d0a3ccedc8a"></a><!-- doxytag: member="dma.h::DMA_getQueueTransferSize" ref="a977fef48a0db1b8cedd70d0a3ccedc8a" args="()" -->
<a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a977fef48a0db1b8cedd70d0a3ccedc8a">DMA_getQueueTransferSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size (in byte) of data to be transfered currently present in the DMA queue.<br/>
 NTSC frame allows about 7.6 KB of data to be transfered during VBlank (in H40) while PAL frame allows about 17 KB (in H40). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a2e706dfcc8518c9b761b8f41b02582a8">DMA_queueDma</a> (<a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> location, <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> from, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> to, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> len, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> step)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues the specified DMA transfer operation in the DMA queue.<br/>
 The idea of the DMA queue is to burst all DMA operations during VBLank to maximize bandwidth usage.<br/>
  <a href="#a2e706dfcc8518c9b761b8f41b02582a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a4d6e5fdefeb1c4fd0cb8b1d444754239">DMA_doDma</a> (<a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> location, <a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a> from, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> to, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> len, <a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a> step)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Do DMA transfer operation immediately.  <a href="#a4d6e5fdefeb1c4fd0cb8b1d444754239"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4edc7297e8050aea2fc7118217026d88"></a><!-- doxytag: member="dma.h::DMA_waitCompletion" ref="a4edc7297e8050aea2fc7118217026d88" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a4edc7297e8050aea2fc7118217026d88">DMA_waitCompletion</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait current DMA fill/copy operation to complete. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#a9b41128bc1718e9006a1d6152638bc8a">DMA_doVRamFill</a> (<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> to, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> len, <a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a> value, <a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a> step)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Do VRAM DMA fill operation.  <a href="#a9b41128bc1718e9006a1d6152638bc8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#aa12867eb4ae5e0ddad4086ee564cfa5b">DMA_doVRamCopy</a> (<a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> from, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> to, <a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> len, <a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a> step)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Do VRAM DMA copy operation.  <a href="#aa12867eb4ae5e0ddad4086ee564cfa5b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1aff8646444028d4d674bbb77cb8573"></a><!-- doxytag: member="dma.h::dmaQueues" ref="af1aff8646444028d4d674bbb77cb8573" args="" -->
<a class="el" href="struct_d_m_a_op_info.html">DMAOpInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dma_8h.html#af1aff8646444028d4d674bbb77cb8573">dmaQueues</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA queue structure. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>DMA support. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Stephane Dallongeville </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>04/2015</dd></dl>
<p>This unit provides methods to use the hardware DMA capabilities. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6f0144fc374e2ad40942aa1611f05fe3"></a><!-- doxytag: member="dma.h::DMA_clearQueue" ref="a6f0144fc374e2ad40942aa1611f05fe3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_clearQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears the DMA queue, any queued operation is lost.<br/>
 </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4d6e5fdefeb1c4fd0cb8b1d444754239"></a><!-- doxytag: member="dma.h::DMA_doDma" ref="a4d6e5fdefeb1c4fd0cb8b1d444754239" args="(u8 location, u32 from, u16 to, u16 len, s16 step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_doDma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a>&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Do DMA transfer operation immediately. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>Destination location.<br/>
 Accepted values:<br/>
<ul>
<li>DMA_VRAM (for VRAM transfert).<br/>
</li>
<li>DMA_CRAM (for CRAM transfert).<br/>
</li>
<li>DMA_VSRAM (for VSRAM transfert).<br/>
 </li>
</ul>
</td></tr>
    <tr><td class="paramname">from</td><td>Source address. </td></tr>
    <tr><td class="paramname">to</td><td>Destination address. </td></tr>
    <tr><td class="paramname">len</td><td>Number of word to transfert. </td></tr>
    <tr><td class="paramname">step</td><td>destination (VRAM/VSRAM/CRAM) address increment step after each write (-1 to keep current step).<br/>
 By default you should set it to 2 for normal copy operation but you can use different value for specific operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>DMA_queue(..) </dd></dl>

</div>
</div>
<a class="anchor" id="aa12867eb4ae5e0ddad4086ee564cfa5b"></a><!-- doxytag: member="dma.h::DMA_doVRamCopy" ref="aa12867eb4ae5e0ddad4086ee564cfa5b" args="(u16 from, u16 to, u16 len, s16 step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_doVRamCopy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a>&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Do VRAM DMA copy operation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>Source address. </td></tr>
    <tr><td class="paramname">to</td><td>Destination address. </td></tr>
    <tr><td class="paramname">len</td><td>Number of byte to copy. </td></tr>
    <tr><td class="paramname">step</td><td>VRAM address increment step after each write (-1 to keep current step).<br/>
 should be 1 for a classic copy operation but you can use different value for specific operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b41128bc1718e9006a1d6152638bc8a"></a><!-- doxytag: member="dma.h::DMA_doVRamFill" ref="a9b41128bc1718e9006a1d6152638bc8a" args="(u16 to, u16 len, u8 value, s16 step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_doVRamFill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a>&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Do VRAM DMA fill operation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>Destination address. </td></tr>
    <tr><td class="paramname">len</td><td>Number of byte to fill (minimum is 2 for even addr destination and 3 for odd addr destination).<br/>
 A value of 0 mean 0x10000. </td></tr>
    <tr><td class="paramname">value</td><td>Fill value (byte). </td></tr>
    <tr><td class="paramname">step</td><td>VRAM address increment step after each write (-1 to keep current step).<br/>
 should be 1 for a classic fill operation but you can use different value for specific operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17d3b25af3c1ce3dfe3457524f48069f"></a><!-- doxytag: member="dma.h::DMA_flushQueue" ref="a17d3b25af3c1ce3dfe3457524f48069f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_flushQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send the content of the DMA queue to the VDP:<br/>
 Each pending DMA operation is sent to the VDP and processed as quickly as possible.<br/>
 This method returns when all DMA operations present in the queue has been transfered.<br/>
 Note that this method is automatically called at VBlank time and you shouldn't call yourself except if you want to process it before vblank (if you manually extend blank period with h-int for instance) in which case you can disable the auto flush feature (see DMA_setAutoFlush(...)) </p>
<dl class="see"><dt><b>See also:</b></dt><dd>DMA_queue(...) </dd>
<dd>
<a class="el" href="dma_8h.html#a92a0da2f364b39a3ec31c85968c2f759" title="If set to TRUE (default) then the DMA_flushQueue() method is automatically called at VBlank to proces...">DMA_setAutoFlush</a>(...) </dd></dl>

</div>
</div>
<a class="anchor" id="a3f78a14fab51ee0d5a5f3236cfa49246"></a><!-- doxytag: member="dma.h::DMA_getAutoFlush" ref="a3f78a14fab51ee0d5a5f3236cfa49246" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> DMA_getAutoFlush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns TRUE if the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method is automatically called at VBlank to process DMA operations pending in the queue. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a92a0da2f364b39a3ec31c85968c2f759" title="If set to TRUE (default) then the DMA_flushQueue() method is automatically called at VBlank to proces...">DMA_setAutoFlush()</a> </dd>
<dd>
<a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a520b961ff7fdd6d4c0dfc04902a09950"></a><!-- doxytag: member="dma.h::DMA_getIgnoreOverCapacity" ref="a520b961ff7fdd6d4c0dfc04902a09950" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> DMA_getIgnoreOverCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the "over capacity ignore" state (see <a class="el" href="dma_8h.html#a5ef5f54b40b2ca4578f1566eceea7cb7" title="Set the &quot;over capacity&quot; DMA queue strategy.">DMA_setIgnoreOverCapacity</a>(..) method). </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a5ef5f54b40b2ca4578f1566eceea7cb7" title="Set the &quot;over capacity&quot; DMA queue strategy.">DMA_setIgnoreOverCapacity()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4d5fb94e081a4df39ba948a03febda67"></a><!-- doxytag: member="dma.h::DMA_getMaxTransferSize" ref="a4d5fb94e081a4df39ba948a03febda67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a> DMA_getMaxTransferSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the maximum allowed size (in bytes) to transfer per <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> call. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a11abe59cc3fafad34a89abc7187e5e42" title="Sets the maximum amount of data (in bytes) to transfer per DMA_flushQueue() call.  VBlank period allo...">DMA_setMaxTransferSize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a25c0954a83a34c1065df3466899ef9ac"></a><!-- doxytag: member="dma.h::DMA_init" ref="a25c0954a83a34c1065df3466899ef9ac" args="(u16 size, u16 capacity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the DMA queue sub system. </p>
<p>SGDK automatically call this method on hard reset so you don't need to call it again unless you want to change the default parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The queue size (0 = default size = 64). </td></tr>
    <tr><td class="paramname">capacity</td><td>The maximum allowed size (in bytes) to transfer per <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> call (0 = default = no limit). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2e706dfcc8518c9b761b8f41b02582a8"></a><!-- doxytag: member="dma.h::DMA_queueDma" ref="a2e706dfcc8518c9b761b8f41b02582a8" args="(u8 location, u32 from, u16 to, u16 len, u16 step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a> DMA_queueDma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ab9f930ae0484417a1883fd3f7cdb490e">u8</a>&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a449a74b72ed931d627eca7efcc6f8c9d">u32</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queues the specified DMA transfer operation in the DMA queue.<br/>
 The idea of the DMA queue is to burst all DMA operations during VBLank to maximize bandwidth usage.<br/>
 </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>Destination location.<br/>
 Accepted values:<br/>
<ul>
<li>DMA_VRAM (for VRAM transfert).<br/>
</li>
<li>DMA_CRAM (for CRAM transfert).<br/>
</li>
<li>DMA_VSRAM (for VSRAM transfert).<br/>
 </li>
</ul>
</td></tr>
    <tr><td class="paramname">from</td><td>Source address. </td></tr>
    <tr><td class="paramname">to</td><td>Destination address. </td></tr>
    <tr><td class="paramname">len</td><td>Number of word to transfert. </td></tr>
    <tr><td class="paramname">step</td><td>destination (VRAM/VSRAM/CRAM) address increment step after each write (0 to 255).<br/>
 By default you should set it to 2 for normal copy operation but you can use different value for specific operation.<br/>
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>FALSE if the operation failed (queue is full) </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>DMA_do(..) </dd></dl>

</div>
</div>
<a class="anchor" id="a92a0da2f364b39a3ec31c85968c2f759"></a><!-- doxytag: member="dma.h::DMA_setAutoFlush" ref="a92a0da2f364b39a3ec31c85968c2f759" args="(u16 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_setAutoFlush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If set to TRUE (default) then the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method is automatically called at VBlank to process DMA operations pending in the queue otherwise you have to call the <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> method by yourself. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5ef5f54b40b2ca4578f1566eceea7cb7"></a><!-- doxytag: member="dma.h::DMA_setIgnoreOverCapacity" ref="a5ef5f54b40b2ca4578f1566eceea7cb7" args="(u16 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_setIgnoreOverCapacity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a8aa9149a22317014c683c48cebd8cfef">u16</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the "over capacity" DMA queue strategy. </p>
<p>When set to <em>TRUE</em> any DMA operation queued after we reached the maximum defined transfer capacity with <a class="el" href="dma_8h.html#a11abe59cc3fafad34a89abc7187e5e42" title="Sets the maximum amount of data (in bytes) to transfer per DMA_flushQueue() call.  VBlank period allo...">DMA_setMaxTransferSize</a>(..) are ignored.<br/>
 When set to <em>FALSE</em> DMA operations are postponed to the next frame.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a11abe59cc3fafad34a89abc7187e5e42" title="Sets the maximum amount of data (in bytes) to transfer per DMA_flushQueue() call.  VBlank period allo...">DMA_setMaxTransferSize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a11abe59cc3fafad34a89abc7187e5e42"></a><!-- doxytag: member="dma.h::DMA_setMaxTransferSize" ref="a11abe59cc3fafad34a89abc7187e5e42" args="(s16 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_setMaxTransferSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ad54124d5ddef23f4d85df6f12e3501a4">s16</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the maximum amount of data (in bytes) to transfer per <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> call.<br/>
 VBlank period allows to transfer up to 7.2 KB on NTSC system and 15 KB on PAL system.<br/>
 By default there is no size limit (0). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The maximum amount of data (in KiloBytes) to transfer during <a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> operation.<br/>
 Use <b>0</b> for no limit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="dma_8h.html#a5ef5f54b40b2ca4578f1566eceea7cb7" title="Set the &quot;over capacity&quot; DMA queue strategy.">DMA_setIgnoreOverCapacity()</a> </dd>
<dd>
<a class="el" href="dma_8h.html#a17d3b25af3c1ce3dfe3457524f48069f" title="Send the content of the DMA queue to the VDP:  Each pending DMA operation is sent to the VDP and proc...">DMA_flushQueue()</a> </dd></dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dma_8h.html">dma.h</a>      </li>
      <li class="footer">Generated on Tue Sep 20 2016 23:08:01 for sgdk by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
